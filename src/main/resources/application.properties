# database init, supports mysql too
server.port=8090
database=h2
spring.sql.init.schema-locations=classpath*:db/${database}/schema.sql
spring.sql.init.data-locations=classpath*:db/${database}/data.sql

# Web
spring.thymeleaf.mode=HTML


# Internationalization
spring.messages.basename=messages/messages

# Actuator
management.endpoints.web.exposure.include=*

# Logging
logging.level.org.springframework=INFO
# logging.level.org.springframework.web=DEBUG
# logging.level.org.springframework.context.annotation=TRACE

# Maximum time static resources should be cached
spring.web.resources.cache.cachecontrol.max-age=12h

management.endpoints.web.exposure.include=*
management.endpoint.prometheus.enabled=true  
# the beginning 
server.servlet.context-path=/

# Spring Boot Actuator (for Prometheus/Grafana)
management.endpoint.health.show-details=always
management.metrics.export.prometheus.enabled=true
management.info.env.enabled=true

# JPA/Hibernate (general; override in profiles)
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.open-in-view=false

# Default Datasource (H2 for local non-Docker testing)
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.h2.console.enabled=true

# Flyway Migrations (from db/ dir)
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

# Logging (efficient for Docker)
logging.level.root=INFO
logging.level.org.springframework.web=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# Info Endpoint
info.app.name=Spring Petclinic
info.app.description=Sample Spring Boot App
info.app.version=@project.version@
info.build.artifact=@project.name@
info.java.version=@java.version@

# Caching (for efficiency)
spring.cache.type=caffeine
spring.jpa.properties.hibernate.cache.use_second_level_cache=true
spring.jpa.properties.hibernate.cache.region.factory_class=org.hibernate.cache.jcache.CaffeineRegionFactory

# Thymeleaf (for templates/)
spring.thymeleaf.cache=true
